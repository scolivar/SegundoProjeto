<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Calculadora de Juros Compostos</title>
	<script type="text/javascript">
    	function calcular() {
    		var p = form1.vi.value;           //Valor inicial ou principal
			var d = form1.dm.value;           //Valor do depósito mensal
			var j = form1.tj.value;           //Taxa de juros
			var n = form1.per.value;          //Período de investimento
			var x = form1.periodo.value;
			if (x == ""){                     //Se período for expressado em anos
				window.alert('Selecione Meses ou Anos.');//Converte em meses para efeitos de cálculo
				form1.periodo.focus();
				return false;
			}
			if (x == "ano"){                  //Se período for expressado em anos
				n = n * 12;                   //Converte em meses para efeitos de cálculo
			}
			var ti = 0;                       //Total investido
			var taj = 0;                      //Total acumulado em juros
			var t = 0; 
			j = j/100;                      //Total geral

			t = p * Math.pow((1 + j), n) + d * (Math.pow((1 + j), n) - 1) / j;
			                                  //Calcula

			window.alert('Total: R$' + t.toFixed('2'));                //e joga o resultado na tela
    	}
    	/*if (p == "") {
			window.alert('Informe o valor inicial.');
			form1.vi.focus();
			return false;
		}*/
    </script>
</head>
<body>
	<br>
    <hr><hr>
	<h1 align="center">Calculadora de Juros Compostos</h1>
    <hr><hr>
    <h2>Indique abaixo as condições de seu investimento:</h2>
    <table>
    	<tr>
    		<td align="right">
    			Valor Inicial:<br><br>
    			Valor Depósito Mensal:<br><br>
    			Taxa de Juros:<br><br>
    			Período:<br><br><br><br></td>
    		<td>
    			<form name="form1" action="javascript:window.history.go(0)" method="post">
    				<input name="vi" type="text"> Reais<br><br>
    				<input name="dm" type="text"> Reais<br><br>
    				<input name="tj" type="text"> %<br><br>
    				<input name="per" type="text">
    				<select name="periodo" id="periodo">
    					<option value="">Selecione</option>
    					<option value="mes">Meses</option>
    					<option value="ano">Anos</option>
    				</select><br><br>
    				<button onclick="return calcular()">Calcular</button>
    			</form>
    		</td>
    	</tr>
    </table>
</body>
</html>